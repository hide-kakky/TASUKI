# 03. 開発環境の理解

## 🎯 このレッスンで学ぶこと

- 開発環境とは何か
- TASUKIで使う開発ツール
- それぞれのツールの役割
- ローカル開発とクラウド開発

---

## 1. 開発環境とは？

### 料理に例えると

**料理を作る = プログラムを作る**

料理を作るには「道具」が必要です：
- まな板
- 包丁
- フライパン
- コンロ

プログラムを作るにも「道具」が必要です：
- テキストエディタ（コードを書く）
- データベース（データを保存）
- サーバー（プログラムを動かす）

これらの道具一式を**「開発環境」**と呼びます。

---

## 2. ローカル開発 vs クラウド開発

### ローカル開発
**自分のパソコンで開発する**

```
あなたのパソコン
├── コード（プログラム）
├── データベース
└── テストサーバー
```

**メリット**:
- インターネット不要
- 速い
- 自由に実験できる

**デメリット**:
- パソコンのスペックに依存
- 他の人と共有しにくい

### クラウド開発
**インターネット上のサーバーで開発する**

```
クラウド（インターネット上）
├── コード
├── データベース
└── 本番サーバー
```

**メリット**:
- どこからでもアクセス可能
- チームで共有しやすい
- スケールしやすい

**デメリット**:
- インターネット必須
- コストがかかる

**TASUKIの場合**: 両方を組み合わせて使います！
- ローカル: コードを書く、テストする
- クラウド: 本番環境で動かす

---

## 3. TASUKIの開発ツール

TASUKIでは、以下のツールを使います：

### 📱 フロントエンド（スマホアプリ）

#### Flutter
**役割**: スマホアプリの画面を作る

```
Flutter SDK（開発キット）
└── Dart言語でコードを書く
    └── iOS / Android アプリが作れる
```

**すごいところ**:
- **1つのコード**で、iOSとAndroid両方のアプリが作れる！
- Googleが開発している

**使用例**:
```dart
// ボタンを表示する
ElevatedButton(
  onPressed: () { print('押された!'); },
  child: Text('録画開始'),
)
```

#### Visual Studio Code (VSCode)
**役割**: コードを書くためのエディタ

- コードの色分け（見やすい）
- エラーを教えてくれる
- 自動補完（途中まで書くと候補を出してくれる）

---

### 🔧 バックエンド（サーバー側）

#### Supabase
**役割**: バックエンド全般を提供する**BaaS**

**BaaS = Backend as a Service**（バックエンドをサービスとして提供）

Supabaseが提供するもの：
1. **PostgreSQL データベース** - データを保存
2. **認証機能** - ログイン・ログアウト
3. **Edge Functions** - サーバー処理
4. **ストレージ** - ファイル保存
5. **リアルタイム通信** - データの即時同期

**すごいところ**:
- サーバーを自分で用意しなくていい
- セキュリティ機能（RLS）が標準装備
- 無料プランから始められる

#### Deno
**役割**: Edge Functionsを動かすランタイム

**ランタイム** = プログラムを実行する環境

```
TypeScriptコード → Deno → 実行される
```

Node.jsの進化版で、よりセキュアです。

---

### 🎬 外部サービス

#### Mux
**役割**: 動画処理専門サービス

```
スマホで撮影した動画
  ↓ アップロード
Mux（動画処理）
  ├ 圧縮（ファイルサイズ削減）
  ├ HLS形式に変換（ストリーミング用）
  └ サムネイル生成
  ↓
配信用URL生成
```

**なぜMuxを使う？**:
- 動画処理は複雑＆重い
- 専門サービスに任せた方が効率的
- 自動で最適な画質に調整してくれる

#### Gemini AI
**役割**: 動画を分析してマニュアル生成

```
動画URL
  ↓
Gemini AI
  ├ 動画の内容を理解
  ├ 要約を生成
  ├ 手順を抽出
  └ コツ・注意点を提案
  ↓
JSON形式で返却
```

**マルチモーダルAI**:
- テキストだけでなく、**画像・動画**も理解できる
- だからTASUKIに最適！

---

## 4. 開発の流れ（どこで何をするか）

### ステップ1: ローカルで開発
```
あなたのパソコン (VSCode)
  ↓
Flutterでコードを書く
  ↓
ローカルで動作確認
  ↓
OK? → 次へ
NG? → 修正して再テスト
```

### ステップ2: Supabase（クラウド）にデプロイ
```
GitHubにコードをプッシュ
  ↓
Supabase Edge Functionsにデプロイ
  ↓
Supabase PostgreSQLにスキーマ適用
  ↓
本番環境で動作確認
```

### ステップ3: 外部サービス連携
```
Mux Webhook設定
Gemini API Key設定
  ↓
統合テスト
  ↓
リリース！
```

---

## 5. 環境変数（.env）の役割

### 環境変数とは？

プログラムの「設定ファイル」のようなもの。

**例**: Supabaseのプロジェクト情報
```bash
SUPABASE_URL=https://abcd1234.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOi...
```

### なぜ必要？

1. **セキュリティ**: API Keyをコードに直接書かない
2. **柔軟性**: 開発環境と本番環境で値を変えられる
3. **安全性**: `.gitignore`で除外し、Gitに含めない

### TASUKIでの使い方

```
.env.example（テンプレート）
  ↓ コピー
.env（実際の値を入力）
  ↓ 読み込み
アプリで使用
```

---

## 6. 重要な専門用語

| 用語 | 意味 | TASUKIでの例 |
|------|------|-------------|
| **開発環境** | プログラムを作るための道具一式 | VSCode + Flutter + Supabase |
| **SDK** | Software Development Kit（開発キット） | Flutter SDK |
| **BaaS** | Backend as a Service | Supabase |
| **ランタイム** | プログラムを実行する環境 | Deno |
| **デプロイ** | プログラムをサーバーに配置すること | Edge Functionsをデプロイ |
| **環境変数** | プログラムの設定情報 | .env ファイル |

---

## 7. ミニクイズ 🎯

### Q1: BaaSとは何の略ですか？
<details>
<summary>答えを見る</summary>

**答え**: Backend as a Service（バックエンドをサービスとして提供）

TASUKIではSupabaseがBaaSです。

</details>

### Q2: Flutterのすごいところは？
<details>
<summary>答えを見る</summary>

**答え**: 1つのコード（Dart言語）で、iOSとAndroid両方のアプリが作れること。

これを**クロスプラットフォーム開発**と言います。

</details>

### Q3: なぜ環境変数を.gitignoreに含めるのですか？
<details>
<summary>答えを見る</summary>

**答え**: API Keyなどの機密情報が含まれているから。Gitに含めると、GitHubに公開されてしまい、悪用される危険があります。

</details>

---

## 📝 まとめ

- ✅ 開発環境 = プログラムを作るための道具一式
- ✅ TASUKIはローカル開発 + クラウド開発の組み合わせ
- ✅ 主要ツール: Flutter, Supabase, Mux, Gemini
- ✅ 環境変数は機密情報を安全に管理するため

---

## 🚀 次のステップ

レベル1完了です！🎉

次は「レベル2: 技術要素の理解」に進みます。
- 04_データベースとは.md
- 05_フロントエンドとバックエンド.md
- 06_APIとは.md

より技術的な概念を学んでいきます！

---

## 💡 ブログに書くなら

```markdown
# 開発環境について学んだ

## TASUKIで使う主要ツール
- Flutter（スマホアプリ）
- Supabase（BaaS）
- Mux（動画処理）
- Gemini（AI）

## 驚いたポイント
- Flutterは1つのコードでiOS/Android両方作れる！
- Supabaseがサーバー管理を全部やってくれる（BaaS）
- 環境変数で機密情報を安全に管理

## 次に学びたいこと
- データベースの仕組み
```
